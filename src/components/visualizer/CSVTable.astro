---
import CSVTableHeader from './CSVTableHeader.astro';
import CSVTableRow from './CSVTableRow.astro';

interface CSVRow {
  id: string;
  date: string;
  product: string;
  category: 'Electronics' | 'Furniture' | 'Accessories';
  quantity: number;
  revenue: string;
}

interface Props {
  data: CSVRow[];
}

const { data } = Astro.props;

// Definici√≥n de columnas para la tabla
const columns = [
  { key: 'id', label: 'ID', icon: 'unfold_more' as const, width: 'w-16' },
  { key: 'date', label: 'Date', icon: 'unfold_more' as const },
  { key: 'product', label: 'Product', icon: 'unfold_more' as const },
  { key: 'category', label: 'Category', icon: 'filter_list' as const },
  { key: 'quantity', label: 'Quantity', icon: 'unfold_more' as const, align: 'right' as const },
  { key: 'revenue', label: 'Total Revenue', icon: 'arrow_downward' as const, align: 'right' as const },
  { key: 'actions', label: '', width: 'w-10' },
];
---

<div class="overflow-auto flex-1 w-full">
  <table class="w-full text-left text-sm whitespace-nowrap">
    <CSVTableHeader columns={columns} />
    <tbody class="divide-y divide-border-dark/50 text-text-off-white">
      {data.map((row, index) => (
        <CSVTableRow row={row} alternate={index % 2 === 1} />
      ))}
    </tbody>
  </table>
</div>
