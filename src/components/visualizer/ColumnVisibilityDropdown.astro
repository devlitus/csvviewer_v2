---
---

<div data-column-visibility-wrapper class="relative">
  <!-- Button trigger -->
  <button
    data-column-visibility-trigger
    class="flex items-center gap-2 bg-vibrant-blue hover:bg-primary-hover text-white rounded-lg px-3 py-1.5 text-sm font-bold shadow-lg shadow-vibrant-blue/20 transition-colors whitespace-nowrap"
    aria-label="Show/hide columns"
    aria-haspopup="true"
    aria-expanded="false"
  >
    <span class="material-symbols-outlined text-sm">view_column</span>
    Columns
    <span
      data-column-visibility-count
      class="ml-1 px-2 py-0.5 bg-white/20 rounded-md text-xs font-mono"
    >
      0/0
    </span>
  </button>

  <!-- Dropdown panel -->
  <div
    data-column-visibility-dropdown
    class="hidden absolute right-0 top-full mt-2 z-20 w-56 bg-surface-card border border-border-dark rounded-lg shadow-lg"
  >
    <!-- Header with Select All / Deselect All -->
    <div
      data-column-visibility-actions
      class="flex gap-2 px-3 py-3 border-b border-border-dark"
    >
      <button
        data-column-select-all
        class="flex-1 px-2 py-1.5 bg-vibrant-blue hover:bg-primary-hover text-white rounded text-xs font-semibold transition-colors"
      >
        Select All
      </button>
      <button
        data-column-deselect-all
        class="flex-1 px-2 py-1.5 bg-surface-dark hover:bg-white/10 text-text-off-white rounded text-xs font-semibold transition-colors border border-border-dark"
      >
        Deselect All
      </button>
    </div>

    <!-- List of checkboxes (rendered dynamically) -->
    <div
      data-column-visibility-list
      class="max-h-64 overflow-y-auto"
    >
      <!-- Generated by script -->
    </div>
  </div>
</div>
